<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Conversio V1 API</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://app.conversio.com'>Sign Up for an API Key</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id='authentication'>Authentication</h1><pre><code class="highlight shell"><span class="c"># With shell, you can just pass the correct header with each request</span>
<span class="gp">$ </span>curl <span class="s2">"api_endpoint_here"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<p>Authentication with Conversio can be done through API key or OAuth. If you&rsquo;re a store owner or affiliated with a store who uses Conversio, your best (and fastest) bet is to use API Key authentication.</p>

<p>OAuth is more complex and should be used by Partner Apps that want to authenticate with their user&rsquo;s accounts in Conversio. Use of API Key Authentication by other Apps on behalf of Conversio&rsquo;s users is discouraged.</p>
<h2 id='api-key-authentication'>API Key Authentication</h2>
<p>All paths should prefixed with https://app.conversio.com/api/v1 and will need the following HTTP header:</p>

<p><code class="prettyprint">X-ApiKey: YOUR_API_KEY</code></p>

<p><aside class="notice">
Your API Key can be found in your store&rsquo;s <a href="https://app.conversio.com/profile">profile page</a>.
</aside></p>
<h2 id='oauth'>OAuth</h2>
<p>Conversio implements the Authorization Code Grant of the <a href="https://tools.ietf.org/html/rfc6749">OAuth v2.0</a> standard, with <a href="https://tools.ietf.org/html/draft-ietf-oauth-signed-http-request-03">PoP Tokens</a> (Proof of Possession).</p>

<p>The standard is followed to spec, except for these cases:</p>

<ul>
<li>Access Tokens do not expire.</li>
<li><code class="prettyprint">responseType</code> is not a required query parameter.</li>
<li><code class="prettyprint">accessType</code> is not a required query parameter.</li>
<li><code class="prettyprint">state</code> is required and must have a minimum length.</li>
</ul>

<p>In general terms, the OAuth process involves a Partner App getting authorization from the User to access their account. When authorized, an Access Token must be requested from Conversio. This token can then be included in requests to Conversio to Authenticate &amp; Authorize the App to access a User&rsquo;s account.</p>

<p>This section has the following structure:</p>

<ul>
<li><a href="#terminology">Terminology</a></li>
<li><a href="#issuing-access-token">Issuing Access Token</a>:

<ol>
<li><a href="#step-1-get-user-authorization">Get User Authorization</a></li>
<li><a href="#step-2-receive-authorization-code">Receive Authorization Code</a></li>
<li><a href="#step-3-exchange-code-for-access-token">Exchange Code for Access Token</a></li>
</ol></li>
<li><a href="#authorizing-requests">Authorizing Requests</a></li>
<li><a href="#scopes">Scopes</a></li>
</ul>
<h3 id='terminology'>Terminology</h3>
<ul>
<li>User: Someone who owns an account in Conversio, and on whose behalf the API is used;</li>
<li>Partner App: An app, authorized by Conversio, that can access a User&rsquo;s API when authorized by that User;</li>
<li>Access Token: A 30 character string that, when included in an API request, Authenticates its associated User and Authorizes access according to it associated scopes.</li>
<li>Scope: A string that represents permission to access a resource. Listed <a href="#scopes">here</a>.</li>
<li>PoP Token: Proof of Possession Token. The only type of Access Token issued by Conversio.</li>
<li>Code: A short-lived 60 character string that can be exchanged for an Access Token.</li>
<li>Client Secret: A 60 character string that acts as password when Authenticating a Partner App and as symmetric key when signing a PoP Token.</li>
<li>JWS: <a href="https://tools.ietf.org/html/rfc7515">JSON Web Signature</a></li>
</ul>
<h3 id='issuing-access-token'>Issuing Access Token</h3>
<p>Conversio uses the Authorization Code Grant flow from OAuth 2.0 to issue Access Tokens. This involves three requests:</p>

<ol>
<li>Redirecting the User to Conversio, where they can authorize the Partner App</li>
<li>Conversio redirects the User back to the Partner App, including a <code class="prettyprint">code</code></li>
<li>The Partner App exchanges the <code class="prettyprint">code</code> for an <code class="prettyprint">access_token</code></li>
</ol>

<p>These three steps are described in detail below.</p>
<h4 id='step-1-get-user-authorization'>Step 1: Get User Authorization</h4><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/oauth/authorize"</span> <span class="se">\</span>
  -G <span class="se">\</span>
  -X GET <span class="se">\</span>
  -d <span class="nv">client_id</span><span class="o">=</span>57b5aa3b046abfb053d80b52 <span class="se">\</span>
  -d <span class="nv">redirect_uri</span><span class="o">=</span>https%3A%2F%2Fwww.partner-app.com%2Fcallback <span class="se">\</span>
  -d <span class="nv">scope</span><span class="o">=</span>read_webhook%20write_newsletter_email <span class="se">\</span>
  -d <span class="nv">state</span><span class="o">=</span>2034590283
</code></pre>

<p>To begin the OAuth flow, the User is redirected to Conversio&rsquo;s authorize endpoint:</p>

<p><code class="prettyprint">https://app.conversio.com/oauth/authorize</code></p>

<p>Including the following parameters in the URL query string:</p>

<table><thead>
<tr>
<th style="text-align: right">Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>client_id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Partner App&rsquo;s ID. Should be provided by Conversio.</td>
</tr>
<tr>
<td style="text-align: right"><strong>redirect_uri:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Where the User will be redirected. Must match the value saved for the Partner App.</td>
</tr>
<tr>
<td style="text-align: right"><strong>scope:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The scopes that the App wishes to access on behalf of the User. Space separated values.</td>
</tr>
<tr>
<td style="text-align: right"><strong>state:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>A random string, at least 10 characters long, that is unique. This will be passed on to <code class="prettyprint">redirect_uri</code> when the User accepts or rejects the authorization, and should be validated to be the same.</td>
</tr>
</tbody></table>

<p>The User will be required to log-in to Conversio as needed.</p>

<p>If all required parameters are present and valid, the User can then review what permissions (scopes) are requested by which App. Conversely, any missing or invalid parameters will instead show an error page with a description of each problem.</p>

<p>At this point the User can Authorize or Reject the Authorization Request. When rejecting, the User will be redirected to <code class="prettyprint">redirect_uri</code> with the following parameters in the URL query string:</p>

<table><thead>
<tr>
<th style="text-align: right">Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>error:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>As per spec, will have the value &ldquo;access_denied&rdquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>error_description:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Will be &ldquo;The user refused to authorize your App.&rdquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>state:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Will be the same <code class="prettyprint">state</code> value sent on the first request.</td>
</tr>
</tbody></table>

<p>This ends the OAuth flow prematurely.</p>

<p>Conversely, when the User authorizes the App, an authorization <code class="prettyprint">code</code> is generated that is bound to that User, the requested scopes and <code class="prettyprint">redirect_uri</code>. The User is then redirected to <code class="prettyprint">redirect_uri</code> with the <code class="prettyprint">code</code> in the query params, and the same <code class="prettyprint">state</code> that was received in the request, starting step 2.</p>
<h4 id='step-2-receive-authorization-code'>Step 2: Receive Authorization Code</h4><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://www.partner-app.com/callback"</span> <span class="se">\</span>
  -G <span class="se">\</span>
  -X GET <span class="se">\</span>
  -d <span class="nv">code</span><span class="o">=</span>f85b6db85f79310aee955bf104caa2dfcb50e6a565f8f8837f44c6ded306 <span class="se">\</span>
  -d <span class="nv">state</span><span class="o">=</span>2034590283
</code></pre>

<p>At this point the User has authorized the Partner App to access their account on their behalf. They will be redirected to <code class="prettyprint">redirect_uri</code> and the URL query will include the following parameters:</p>

<table><thead>
<tr>
<th style="text-align: right">Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>code:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>A 60 character hex string. This code represents the user&rsquo;s authorization and must be used to get an Access Token in step 3. It is single-use and short-lived, expiring in 3 minutes.</td>
</tr>
<tr>
<td style="text-align: right"><strong>state:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Must be the same value sent in the first request.</td>
</tr>
</tbody></table>

<p>The <code class="prettyprint">state</code> param&rsquo;s value should be validated. It is exactly the same value as was sent in the first step. This ensures that the User is coming from the original request, and that the <code class="prettyprint">code</code> isn&rsquo;t from an earlier request intercepted by an attacker.</p>

<p>The <code class="prettyprint">code</code> can now be used to request an Access Token from Conversio.</p>
<h4 id='step-3-exchange-code-for-access-token'>Step 3: Exchange Code for Access Token</h4><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/oauth/access-token"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Basic NTdiNWFhM2IwNDZhYmZiMDUzZDgwYjUyOndhdGNodS1sb29raW4tYXQ="</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/x-www-form-urlencoded"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="nv">code</span><span class="o">=</span>f85b6db85f79310aee955bf104caa2dfcb50e6a565f8f8837f44c6ded306 <span class="se">\</span>
  -d <span class="nv">redirect_uri</span><span class="o">=</span>https%3A%2F%2Fwww.partner-app.com%2Fcallback
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0aee955bf104caa2dfcb50e6a565f8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pop"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To issue an <code class="prettyprint">access_token</code>, the received <code class="prettyprint">code</code> must be <code class="prettyprint">POST</code>ed to Conversio.</p>

<p>This request must use HTTPS and be Authenticated using <a href="https://en.wikipedia.org/wiki/Basic_access_authentication">Basic Access Authentication</a> using the App&rsquo;s ID as the username and the App&rsquo;s Client Secret as password. Both are provided by Conversio.</p>

<p>The POST body must have the <code class="prettyprint">application/x-www-form-urlencoded</code> MIME type and the following parameters:</p>

<table><thead>
<tr>
<th style="text-align: right">Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>code:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The 60 character code received in Step 2 of the flow.</td>
</tr>
<tr>
<td style="text-align: right"><strong>redirect_uri:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Partner App&rsquo;s redirect URI. It must be the exact same value as used to generate the <code class="prettyprint">code</code>.</td>
</tr>
</tbody></table>

<p>If the App is successfully authenticated, the <code class="prettyprint">redirect_uri</code> matches the App and the <code class="prettyprint">code</code> is valid, Conversio will return a new <code class="prettyprint">access_token</code> in JSON:</p>

<table><thead>
<tr>
<th style="text-align: right">Parameter</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>access_token:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>A 30 character token bound to the User and requested Scopes. Must be kept secret.</td>
</tr>
<tr>
<td style="text-align: right"><strong>token_type:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Indicate&rsquo;s the token&rsquo;s type. Is &ldquo;pop&rdquo;.</td>
</tr>
</tbody></table>

<p>This <code class="prettyprint">access_token</code> can then be used to <a href="#authorizing-requests">authorize</a> any client when accessing the User&rsquo;s data.</p>
<h3 id='authorizing-requests'>Authorizing Requests</h3>
<p>As mentioned above, Conversio issues <a href="https://tools.ietf.org/html/draft-ietf-oauth-signed-http-request-03">PoP Access Tokens</a>. These add a layer of security on top of Bearer tokens, requiring Partner Apps to sign every request using their Client Secret.</p>

<p>Reading the Tokens draft &amp; JWS RFC will provide deeper understanding of what&rsquo;s going on, but to get started quickly we&rsquo;d recommend using a lib for the language being used. Some examples:</p>

<ol>
<li>JavaScript -&gt; <a href="https://github.com/brianloveswords/node-jws"><code class="prettyprint">npm install jws</code></a></li>
<li>Ruby -&gt; <a href="https://github.com/jwt/ruby-jwt"><code class="prettyprint">gem install jwt</code></a></li>
</ol>

<p>If the language used isn&rsquo;t listed, get in touch with us and we&rsquo;ll help out finding an appropriate alternative.</p>
<h4 id='generating-the-pop-token'>Generating the PoP Token</h4><pre><code class="highlight ruby"><span class="c1"># Ruby</span>
<span class="nb">require</span> <span class="s1">'jwt'</span>

<span class="n">client_secret</span> <span class="o">=</span> <span class="s1">'partner-app-client-secret'</span>
<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">at: </span><span class="s1">'pop-access-token'</span><span class="p">,</span> <span class="ss">ts: </span><span class="no">Time</span><span class="p">.</span><span class="nf">now</span><span class="p">.</span><span class="nf">to_i</span> <span class="p">}</span>

<span class="n">pop_token</span> <span class="o">=</span> <span class="no">JWT</span><span class="p">.</span><span class="nf">encode</span> <span class="n">payload</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">,</span> <span class="s1">'HS256'</span>
<span class="c1"># &gt; "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdCI6IjEyMzQ1NiIsInRzIjoxMjM0NTY3OH0.J6DUAy9TopLOfIJHFbY2BNDankWID9ZvJ-ylHoV_a6k"</span>
</code></pre>
<pre><code class="highlight javascript"><span class="c1">// JavaScript</span>
<span class="kr">const</span> <span class="nx">jws</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'jws'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">clientSecret</span> <span class="o">=</span> <span class="s1">'partner-app-client-secret'</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">header</span> <span class="o">=</span> <span class="p">{</span> <span class="na">typ</span><span class="p">:</span> <span class="s1">'JWT'</span><span class="p">,</span> <span class="na">alg</span><span class="p">:</span> <span class="s1">'HS256'</span> <span class="p">};</span>
<span class="kr">const</span> <span class="nx">payload</span> <span class="o">=</span> <span class="p">{</span> <span class="na">at</span><span class="p">:</span> <span class="s1">'pop-access-token'</span><span class="p">,</span> <span class="na">ts</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span> <span class="p">};</span>

<span class="kr">const</span> <span class="nx">popToken</span> <span class="o">=</span> <span class="nx">jws</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span> <span class="nx">header</span><span class="p">,</span> <span class="nx">payload</span><span class="p">,</span> <span class="na">secret</span><span class="p">:</span> <span class="nx">clientSecret</span> <span class="p">});</span>
<span class="c1">// &gt; 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdCI6IjEyMzQ1NiIsInRzIjoxMjM0NTY3OH0.Pocf1CzRha25nwCfoZynProYLcV1UE5SlcRGa3qzZXo'</span>
</code></pre>

<p>As a first step, the Access Token received from Conversio must be included in an Object (Hash for Ruby) at the key <code class="prettyprint">at</code>. In that object, the current Unix time must be defined at the key <code class="prettyprint">ts</code>. This timestamp is validated by Conversio to be within 3 minutes of current time, in an effort to prevent header reuse by attackers.</p>

<p>This object is then signed with HMAC, generating 3 Base64 encoded strings, separated by a period. This is the PoP Token.</p>

<p>We support three HMAC algorithms, <code class="prettyprint">HS256</code>, <code class="prettyprint">HS384</code> and <code class="prettyprint">HS512</code>.</p>
<pre><code class="highlight shell"><span class="c"># Example authorized request</span>
<span class="gp">$ </span>curl https://app.conversio.com/api/v1 <span class="se">\</span>
  -H <span class="s2">"Authorization: PoP eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdCI6IjEyMzQ1NiIsInRzIjoxMjM0NTY3OH0.Pocf1CzRha25nwCfoZynProYLcV1UE5SlcRGa3qzZXo
</span></code></pre>

<p>The PoP Token can then be included in a request&rsquo;s Authorization header, prefixed with the string &ldquo;PoP&rdquo;.</p>

<p>The server then decodes the PoP Token and validates the signature to both Authenticate the Partner App and Authorize its access to a User&rsquo;s account through the included Access Token.</p>
<h3 id='scopes'>Scopes</h3>
<p>Below is a table of the recognized scopes. Scopes that are prefixed with <code class="prettyprint">write_</code> provide read &amp; write access, while those with the <code class="prettyprint">read_</code> prefix provide access to read-only endpoints.</p>

<ul>
<li><code class="prettyprint">read_webhook</code>/<code class="prettyprint">write_webhook</code>: These allow accessing the registered webhooks for a User&rsquo;s account. With <code class="prettyprint">write_</code> one can also register new webhooks &amp; endpoints.</li>
<li><code class="prettyprint">read_newsletter_template</code>: Provides access to a User&rsquo;s Newsletter Templates. This includes contents and sending stats.</li>
<li><code class="prettyprint">read_newsletter_email</code>: Provides access to the list of emails associated with a sent Newsletter Template. Includes action timestamps (sentAt, openedAt, etc.) and email address info.</li>
<li><code class="prettyprint">read_async_job</code>: Provides access to Async Jobs, their statuses and results.</li>
</ul>

          <h1 id='receipts'>Receipts</h1>
<p>Services related to sending using the <strong>Receipts API</strong></p>
<h2 id='all-receipts'>All Receipts</h2><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/receipts?page=1&amp;limit=10"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
   </span><span class="s2">"meta"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"_links"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"first"</span><span class="p">:</span><span class="s2">"https://app.conversio.com/api/v1/receipts?page=1"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"next"</span><span class="p">:</span><span class="s2">"https://app.conversio.com/api/v1/receipts?page=3"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"prev"</span><span class="p">:</span><span class="s2">"https://app.conversio.com/api/v1/receipts?page=1"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"last"</span><span class="p">:</span><span class="s2">"https://app.conversio.com/api/v1/receipts?page=5"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"_id"</span><span class="p">:</span><span class="s2">"1e23df04"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"reference"</span><span class="p">:</span><span class="s2">"c_1e23d"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"amountNotes"</span><span class="p">:</span><span class="s2">"Includes 19$ VAT"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"customer@email.com"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"me@mybusiness.com"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="s2">"2015-01-07T10:02:13.915Z"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2015-01-07T10:02:13.915Z"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"payment"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"VISA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last4"</span><span class="p">:</span><span class="mi">4242</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="s2">"items"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="s2">"reference"</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span><span class="w">
               </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Conversio subscription"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
               </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"39.99"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"image"</span><span class="p">:</span><span class="s2">"http://foo/image.jpg"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="s2">"subtotals"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Delivery"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"9.00"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="s2">"billing"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:{</span><span class="w">
               </span><span class="s2">"firstName"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Acme Widgets"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"addressLine1"</span><span class="p">:</span><span class="s2">"111 Main"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"addressLine2"</span><span class="p">:</span><span class="s2">"Suite 101"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"postcode"</span><span class="p">:</span><span class="s2">"10012"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"phone"</span><span class="p">:</span><span class="s2">"444-555-6464"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john@acmewidgets.com"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="s2">"shipping"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"firstName"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Acme Widgets"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"addressLine1"</span><span class="p">:</span><span class="s2">"111 Main"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"addressLine2"</span><span class="p">:</span><span class="s2">"Suite 101"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"postcode"</span><span class="p">:</span><span class="s2">"10012"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="s2">"customerIp"</span><span class="p">:</span><span class="s2">"145.145.145.145"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"sent"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"upsell"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"upsellType"</span><span class="p">:</span><span class="s2">"coupon"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Lorem ipsum"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"freeShipping"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"couponCode"</span><span class="p">:</span><span class="s2">"55G2-DHM0-50NN"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"emailLimit"</span><span class="p">:</span><span class="kc">true</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"_id"</span><span class="p">:</span><span class="s2">"1e23df04"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"reference"</span><span class="p">:</span><span class="s2">"c_1e23d"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"customer@email.com"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"me@mybusiness.com"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="s2">"2015-01-07T10:02:13.915Z"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2015-01-07T10:02:13.915Z"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"payment"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"VISA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last4"</span><span class="p">:</span><span class="mi">4242</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="s2">"items"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="s2">"reference"</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span><span class="w">
               </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Conversio subscription"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
               </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"39.99"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"image"</span><span class="p">:</span><span class="s2">"http://foo/image.jpg"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="s2">"subtotals"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Delivery"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"9.00"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="s2">"billing"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:{</span><span class="w">
               </span><span class="s2">"firstName"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Acme Widgets"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"addressLine1"</span><span class="p">:</span><span class="s2">"111 Main"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"addressLine2"</span><span class="p">:</span><span class="s2">"Suite 101"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"postcode"</span><span class="p">:</span><span class="s2">"10012"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"phone"</span><span class="p">:</span><span class="s2">"444-555-6464"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john@acmewidgets.com"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="s2">"shipping"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"firstName"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Acme Widgets"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"addressLine1"</span><span class="p">:</span><span class="s2">"111 Main"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"addressLine2"</span><span class="p">:</span><span class="s2">"Suite 101"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"postcode"</span><span class="p">:</span><span class="s2">"10012"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="s2">"customerIp"</span><span class="p">:</span><span class="s2">"145.145.145.145"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"sent"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"upsell"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"upsellType"</span><span class="p">:</span><span class="s2">"coupon"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Lorem ipsum"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"freeShipping"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"couponCode"</span><span class="p">:</span><span class="s2">"55G2-DHM0-50NN"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"emailLimit"</span><span class="p">:</span><span class="kc">false</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='list-all-receipts-get'>List all Receipts [GET]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/receipts</code></p>
<h3 id='arguments'>Arguments</h3>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>page:</strong></td>
<td><strong>number, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The page number</td>
</tr>
<tr>
<td style="text-align: right"><strong>limit:</strong></td>
<td><strong>number, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Number of results per page</td>
</tr>
</tbody></table>

<p><aside class="success">
Response 200 (application/json)
</aside></p>
<h2 id='send'>Send</h2><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/receipts"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s1">'{
       "reference":"c_1e23d",
       "currency":"USD",
       "amount":"0.00",
       "amountNotes":"Includes 19$ VAT",
       "to":"customer@email.com",
       "from":"me@mybusiness.com",
       "date":1410715640,
       "payment":{
          "type":"VISA",
          "last4":4242
       },
       "items":[
          {
             "reference":123,
             "description":"Conversio subscription",
             "quantity":1,
             "amount":"39.99",
             "image":"http://foo/image.jpg",
             "metas": [{
               "key": "Color",
               "value": "Red"
             }]
          }
       ],
       "subtotals":[
          {
             "description":"Delivery",
             "amount":"9.00"
          }
       ],
       "billing":{
          "address":{
             "firstName":"John",
             "lastName":"Doe",
             "company":"Acme Widgets",
             "addressLine1":"111 Main",
             "addressLine2":"Suite 101",
             "city":"New York",
             "state":"NY",
             "postcode":"10012",
             "country":"US"
          },
          "phone":"444-555-6464",
          "email":"john@acmewidgets.com"
       },
       "shipping":{
          "firstName":"John",
          "lastName":"Doe",
          "company":"Acme Widgets",
          "addressLine1":"111 Main",
          "addressLine2":"Suite 101",
          "city":"New York",
          "state":"NY",
          "postcode":"10012",
          "country":"US"
       },
       "customerIp":"145.145.145.145",
       "notes":"Products require individual packaging",
       "coupons":[
         "abcd-1234-5678"
       ]
    }'</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
   </span><span class="s2">"_id"</span><span class="p">:</span><span class="s2">"1e23df04"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"reference"</span><span class="p">:</span><span class="s2">"c_1e23d"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"amountNotes"</span><span class="p">:</span><span class="s2">"Includes 19$ VAT"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"customer@email.com"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"me@mybusiness.com"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="s2">"2015-01-07T10:02:13.915Z"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2015-01-07T10:02:13.915Z"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"payment"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"VISA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last4"</span><span class="p">:</span><span class="mi">4242</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"items"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"reference"</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Conversio subscription"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"39.99"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"image"</span><span class="p">:</span><span class="s2">"http://foo/image.jpg"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"subtotals"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Delivery"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"9.00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"billing"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"firstName"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Acme Widgets"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"addressLine1"</span><span class="p">:</span><span class="s2">"111 Main"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"addressLine2"</span><span class="p">:</span><span class="s2">"Suite 101"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"postcode"</span><span class="p">:</span><span class="s2">"10012"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"phone"</span><span class="p">:</span><span class="s2">"444-555-6464"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john@acmewidgets.com"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"shipping"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"firstName"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Acme Widgets"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"addressLine1"</span><span class="p">:</span><span class="s2">"111 Main"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"addressLine2"</span><span class="p">:</span><span class="s2">"Suite 101"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postcode"</span><span class="p">:</span><span class="s2">"10012"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"customerIp"</span><span class="p">:</span><span class="s2">"145.145.145.145"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"sent"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"upsell"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"upsellType"</span><span class="p">:</span><span class="s2">"coupon"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Lorem ipsum"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"freeShipping"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"couponCode"</span><span class="p">:</span><span class="s2">"55G2-DHM0-50NN"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"emailLimit"</span><span class="p">:</span><span class="kc">true</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='create-a-new-receipt-post'>Create a new receipt [POST]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/receipts</code></p>
<h3 id='arguments'>Arguments</h3>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>reference:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Sale reference or unique identifier</td>
</tr>
<tr>
<td style="text-align: right"><strong>currency:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>ISO 4217 currency code</td>
</tr>
<tr>
<td style="text-align: right"><strong>amount:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Receipt total, including deductions</td>
</tr>
<tr>
<td style="text-align: right"><strong>amountNotes:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Notes to add close to receipt amount (eg. &ldquo;Includes taxes&rdquo;)</td>
</tr>
<tr>
<td style="text-align: right"><strong>to:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Receipt recipient&rsquo;s email address</td>
</tr>
<tr>
<td style="text-align: right"><strong>from:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The email address to be displayed in the from field</td>
</tr>
<tr>
<td style="text-align: right"><strong>date:</strong></td>
<td><strong>number/string, optional</strong>, <em>default is now</em></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The date the order was completed, can be a unix timestamp or UTC date. e.g. &lsquo;2013-02-04T10:35:24-08:00&rsquo; or 1410715640</td>
</tr>
<tr>
<td style="text-align: right"><strong>payment:</strong></td>
<td><strong>object, optional</strong>, <em>default is null</em></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The display details of the payment that completed the sale. Children:<ul><li><strong>Type</strong>, <em>VISA</em></li><li><strong>Last4</strong>, <em>4242</em></li></ul></td>
</tr>
<tr>
<td style="text-align: right"><strong>items:</strong></td>
<td><strong>array, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The items sold. Children:<ul><li><strong>reference</strong>, <em>optional, c_123</em></li><li><strong>description</strong>, <em>Conversio Hobby Plan</em></li><li><strong>quantity</strong>, <em>optional, 1</em></li><li><strong>amount</strong>, <em>29.00</em></li><li><strong>url</strong>, <em>http://conversio.com/download/123</em></li><li><strong>metas</strong>, <em>optional, [{ &ldquo;key&rdquo;: &ldquo;Color&rdquo;, &ldquo;value&rdquo;: &ldquo;Red&rdquo; }]</em></li><li><strong>image</strong>, <em>optional, http://foo/image.jpg</em></li></ul></td>
</tr>
<tr>
<td style="text-align: right"><strong>subtotals:</strong></td>
<td><strong>array, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>any extra fields that are required before the total is displayed, e.g. discounts, delivery. Children:<ul><li><strong>description</strong>, <em>Delivery</em></li><li><strong>amount</strong>, <em>9.99</em></li></ul></td>
</tr>
<tr>
<td style="text-align: right"><strong>billing:</strong></td>
<td><strong>object, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>the customer&rsquo;s billing details. Children:<ul><li><strong>address</strong><ul><li><strong>firstName</strong>, <em>Joe</em></li><li><strong>lastName</strong>, <em>Smith</em></li><li><strong>company</strong>, <em>Conversio</em></li><li><strong>addressLine1</strong>, <em>30 Broadway</em></li><li><strong>AddressLine2</strong>, <em>Manhattan</em></li><li><strong>city</strong>, <em>New York</em></li><li><strong>state</strong>, <em>New York</em></li><li><strong>postcode</strong>, <em>10001</em></li><li><strong>country</strong>, <em>USA</em></li></ul></li><li><strong>phone</strong>, <em>518-111-1111</em></li><li><strong>email</strong>, <em>help@conversio.com</em></li></ul></td>
</tr>
<tr>
<td style="text-align: right"><strong>shipping:</strong></td>
<td><strong>object, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>the customer&rsquo;s shipping details. Children:<ul><li><strong>firstName</strong>, <em>Joe</em></li><li><strong>lastName</strong>, <em>Smith</em></li><li><strong>company</strong>, <em>Conversio</em></li><li><strong>addressLine1</strong>, <em>30 Broadway</em></li><li><strong>AddressLine2</strong>, <em>Manhattan</em></li><li><strong>city</strong>, <em>New York</em></li><li><strong>state</strong>, <em>New York</em></li><li><strong>postcode</strong>, <em>10001</em></li><li><strong>country</strong>, <em>USA</em></li></ul></td>
</tr>
<tr>
<td style="text-align: right"><strong>upsell:</strong></td>
<td><strong>object, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>details related to the upsell. Children:<ul><li><strong>products</strong><ul><li>array of<ul><li><strong>title</strong>, Product 1</li><li><strong>description</strong>, Lorem ipsum</li><li><strong>image</strong>, http://foo/image.jpg</li><li><strong>actionUrl</strong>, http://foo/product-1/</li></ul></li></ul></td>
</tr>
<tr>
<td style="text-align: right"><strong>customerIp:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>the IP Address of the connection that completed the sale</td>
</tr>
<tr>
<td style="text-align: right"><strong>notes:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>any notes to be added to the receipt</td>
</tr>
<tr>
<td style="text-align: right"><strong>coupons:</strong></td>
<td><strong>array, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>an array of strings that represent all of the coupon codes used with the order</td>
</tr>
</tbody></table>

<p><aside class="success">
Response 201 (application/json)
</aside></p>
<h2 id='receipt'>Receipt</h2><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/receipts/a1b2c3d4"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
   </span><span class="s2">"_id"</span><span class="p">:</span><span class="s2">"1e23df04"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"reference"</span><span class="p">:</span><span class="s2">"c_1e23d"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"customer@email.com"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"me@mybusiness.com"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="s2">"2015-01-07T10:02:13.915Z"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2015-01-07T10:02:13.915Z"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"payment"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"VISA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last4"</span><span class="p">:</span><span class="mi">4242</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"items"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"reference"</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Conversio subscription"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"39.99"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"image"</span><span class="p">:</span><span class="s2">"http://foo/image.jpg"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"subtotals"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Delivery"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"9.00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"billing"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"firstName"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Acme Widgets"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"addressLine1"</span><span class="p">:</span><span class="s2">"111 Main"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"addressLine2"</span><span class="p">:</span><span class="s2">"Suite 101"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"postcode"</span><span class="p">:</span><span class="s2">"10012"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"phone"</span><span class="p">:</span><span class="s2">"444-555-6464"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john@acmewidgets.com"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"shipping"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"firstName"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Acme Widgets"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"addressLine1"</span><span class="p">:</span><span class="s2">"111 Main"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"addressLine2"</span><span class="p">:</span><span class="s2">"Suite 101"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postcode"</span><span class="p">:</span><span class="s2">"10012"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"customerIp"</span><span class="p">:</span><span class="s2">"145.145.145.145"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"sent"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"upsell"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"upsellType"</span><span class="p">:</span><span class="s2">"coupon"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Lorem ipsum"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"freeShipping"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"couponCode"</span><span class="p">:</span><span class="s2">"55G2-DHM0-50NN"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"emailLimit"</span><span class="p">:</span><span class="kc">true</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='retrieve-a-receipt-get'>Retrieve a receipt [GET]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/receipts/{RECEIPT_ID}</code></p>

<p>A single Receipt with all of its details</p>
<h3 id='arguments'>Arguments</h3>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>String based <code class="prettyprint">id</code> of the receipt supplied in the response from the send of a receipt.</td>
</tr>
</tbody></table>

<p><aside class="success">
Response 200 (application/json)
</aside></p>
<h2 id='resend'>Resend</h2><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/receipts/1a2b3c4d/send"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -X POST
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
   </span><span class="s2">"_id"</span><span class="p">:</span><span class="s2">"1e23df04"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"reference"</span><span class="p">:</span><span class="s2">"c_1e23d"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"customer@email.com"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"me@mybusiness.com"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="s2">"2015-01-07T10:02:13.915Z"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"date"</span><span class="p">:</span><span class="s2">"2015-01-07T10:02:13.915Z"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"payment"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"VISA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last4"</span><span class="p">:</span><span class="mi">4242</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"items"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"reference"</span><span class="p">:</span><span class="mi">123</span><span class="p">,</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Conversio subscription"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
         </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"39.99"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"image"</span><span class="p">:</span><span class="s2">"http://foo/image.jpg"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"subtotals"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"Delivery"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"9.00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"billing"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"firstName"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Acme Widgets"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"addressLine1"</span><span class="p">:</span><span class="s2">"111 Main"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"addressLine2"</span><span class="p">:</span><span class="s2">"Suite 101"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"postcode"</span><span class="p">:</span><span class="s2">"10012"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"phone"</span><span class="p">:</span><span class="s2">"444-555-6464"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john@acmewidgets.com"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"shipping"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"firstName"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"lastName"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Acme Widgets"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"addressLine1"</span><span class="p">:</span><span class="s2">"111 Main"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"addressLine2"</span><span class="p">:</span><span class="s2">"Suite 101"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"city"</span><span class="p">:</span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postcode"</span><span class="p">:</span><span class="s2">"10012"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"customerIp"</span><span class="p">:</span><span class="s2">"145.145.145.145"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"sent"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"upsell"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"upsellType"</span><span class="p">:</span><span class="s2">"coupon"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Lorem ipsum"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"freeShipping"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"couponCode"</span><span class="p">:</span><span class="s2">"55G2-DHM0-50NN"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"emailLimit"</span><span class="p">:</span><span class="kc">true</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='resend-a-receipt-post'>Resend a Receipt [POST]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/receipts/{RECEIPT_ID}/send</code></p>

<p>Resend a receipt using the id.</p>
<h3 id='arguments'>Arguments</h3>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>String based <code class="prettyprint">id</code> of the receipt supplied in the response from the send of a receipt.</td>
</tr>
</tbody></table>

<p><aside class="success">
Response 200 (application/json)
</aside></p>
<h2 id='bulk-sync'>Bulk Sync</h2><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/receipts/bulk"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s1">'[{
       "reference":"c_1e23d",
       "currency":"USD",
       "amount":"0.00",
       "amountNotes":"Includes 19$ VAT",
       "to":"customer@email.com",
       "from":"me@mybusiness.com",
       "date":1410715640,
       "status": "completed",
       "payment":{
          "type":"VISA",
          "last4":4242
       },
       "items":[
          {
             "reference":123,
             "description":"Conversio subscription",
             "quantity":1,
             "amount":"39.99",
             "image":"http://foo/image.jpg",
             "metas": [{
               "key": "Color",
               "value": "Red"
             }]
          }
       ],
       "subtotals":[
          {
             "description":"Delivery",
             "amount":"9.00"
          }
       ],
       "billing":{
          "address":{
             "firstName":"John",
             "lastName":"Doe",
             "company":"Acme Widgets",
             "addressLine1":"111 Main",
             "addressLine2":"Suite 101",
             "city":"New York",
             "state":"NY",
             "postcode":"10012",
             "country":"US"
          },
          "phone":"444-555-6464",
          "email":"john@acmewidgets.com"
       },
       "shipping":{
          "firstName":"John",
          "lastName":"Doe",
          "company":"Acme Widgets",
          "addressLine1":"111 Main",
          "addressLine2":"Suite 101",
          "city":"New York",
          "state":"NY",
          "postcode":"10012",
          "country":"US"
       },
       "customerIp":"145.145.145.145"
    },{
       "reference":"c_2e23d",
       "currency":"USD",
       "amount":"1.00",
       "amountNotes":"Includes 19$ VAT",
       "to":"customer@email.com",
       "from":"me@mybusiness.com",
       "date":1410715640,
       "status": "cancelled",
       "payment":{
          "type":"VISA",
          "last4":4242
       },
       "items":[
          {
             "reference":123,
             "description":"Conversio subscription",
             "quantity":1,
             "amount":"39.99",
             "image":"http://foo/image.jpg",
             "metas": [{
               "key": "Color",
               "value": "Red"
             }]
          }
       ],
       "subtotals":[
          {
             "description":"Delivery",
             "amount":"9.00"
          }
       ],
       "billing":{
          "address":{
             "firstName":"John",
             "lastName":"Doe",
             "company":"Acme Widgets",
             "addressLine1":"111 Main",
             "addressLine2":"Suite 101",
             "city":"New York",
             "state":"NY",
             "postcode":"10012",
             "country":"US"
          },
          "phone":"444-555-6464",
          "email":"john@acmewidgets.com"
       },
       "shipping":{
          "firstName":"John",
          "lastName":"Doe",
          "company":"Acme Widgets",
          "addressLine1":"111 Main",
          "addressLine2":"Suite 101",
          "city":"New York",
          "state":"NY",
          "postcode":"10012",
          "country":"US"
       },
       "customerIp":"145.145.145.145"
    }]'</span>
</code></pre>
<h3 id='bulk-sync-post'>Bulk Sync [POST]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/receipts/bulk</code></p>

<p>Synchronize many receipts at once <em>without sending the receipts</em>. This is used to create a Receipt history for the recommendation engine. It <strong>will not create</strong> the receipts in Conversio.</p>

<p><aside class="notice">
You can upload 250 receipts per request.
</aside></p>
<h3 id='arguments'>Arguments</h3>
<p><aside class="notice">
The receipt structure is the same as for <a href="#send">Send</a> except that you should
enclose the receipts in an array (see example request) and you can include a
<code class="prettyprint">status</code> field to indicate if the historic order was actually completed or not.
See below.
</aside></p>

<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>status:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Status of the receipt, valid values are &ldquo;pending&rdquo;, &ldquo;completed&rdquo;, &ldquo;cancelled&rdquo; and &ldquo;refunded&rdquo;</td>
</tr>
</tbody></table>

<p><aside class="success">
Response 200 (success)</p>

<p>All receipts are valid.
</aside></p>

<p><aside class="success">
Response 202 (partial success)</p>

<p>Some receipts are valid and some are invalid. The response specifies which
receipts failed to validate.</p>

<p>Valid receipts are accepted and processed and should <em>not</em> be re-uploaded.
</aside></p>

          <h1 id='coupons'>Coupons</h1>
<p>Services related to retreiving coupons using the <strong>Coupons API</strong></p>
<h2 id='all-coupons'>All Coupons</h2><pre><code class="highlight shell"><span class="c"># DEFINITION</span>
GET https://app.conversio.com/api/v1/coupons

<span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/coupons"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
   </span><span class="s2">"meta"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"_links"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"next"</span><span class="p">:</span><span class="s2">"..."</span><span class="p">,</span><span class="w">
         </span><span class="s2">"prev"</span><span class="p">:</span><span class="s2">"..."</span><span class="p">,</span><span class="w">
         </span><span class="s2">"last"</span><span class="p">:</span><span class="s2">"..."</span><span class="p">,</span><span class="w">
         </span><span class="s2">"first"</span><span class="p">:</span><span class="s2">"..."</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"upsellType"</span><span class="p">:</span><span class="s2">"coupon"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Lorem ipsum"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"freeShipping"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"couponCode"</span><span class="p">:</span><span class="s2">"55G2-DHM0-50NN"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"upsellType"</span><span class="p">:</span><span class="s2">"coupon"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Lorem ipsum"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"freeShipping"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"couponCode"</span><span class="p">:</span><span class="s2">"54G2-DHM0-50NL"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">https://app.conversio.com/api/v1/coupons</code></p>

<p>Get a list of all coupons</p>

<p><aside class="success">
Response 200 (application/json)
</aside></p>
<h2 id='get-a-coupon'>Get a coupon</h2><pre><code class="highlight shell"><span class="c"># DEFINITION</span>
GET https://app.conversio.com/api/v1/coupons/1a2b3c4d

<span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/coupons/1a2b3c4d"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
   </span><span class="s2">"upsellType"</span><span class="p">:</span><span class="s2">"coupon"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Lorem ipsum"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"freeShipping"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"couponCode"</span><span class="p">:</span><span class="s2">"55G2-DHM0-50NN"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">https://app.conversio.com/api/v1/coupons/{COUPON_ID}</code></p>

<p>A single coupon with all of its details</p>
<h3 id='arguments'>Arguments</h3>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>String based <code class="prettyprint">id</code> of the coupon supplied in the response from the send of a receipt.</td>
</tr>
</tbody></table>

<p><aside class="success">
Response 200 (application/json)
</aside></p>
<h2 id='delete-a-coupon'>Delete a coupon</h2><pre><code class="highlight shell"><span class="c"># DEFINITION</span>
DELETE https://app.conversio.com/api/v1/coupons/1a2b3c4d

<span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/coupons/1a2b3c4d"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -X DELETE
</code></pre>

<p><code class="prettyprint">https://app.conversio.com/api/v1/coupons/{COUPON_ID}</code></p>
<h3 id='arguments'>Arguments</h3>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>String based <code class="prettyprint">id</code> of the coupon supplied in the response from the send of a receipt.</td>
</tr>
</tbody></table>

<p><aside class="success">
Response 204 (application/json)
</aside></p>
<h2 id='mark-coupon-as-used'>Mark coupon as used</h2><pre><code class="highlight shell"><span class="c"># DEFINITION</span>
PUT https://app.conversio.com/api/v1/coupons/1a2b3c4d/use

<span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/coupons/1a2b3c4d/use"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -X PUT
  -d <span class="s1">'{
    "reference": "1234",
    "amount": 123,
    "currency": "USD"
  }'</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
   </span><span class="s2">"upsellType"</span><span class="p">:</span><span class="s2">"coupon"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"Lorem ipsum"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"freeShipping"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"couponCode"</span><span class="p">:</span><span class="s2">"55G2-DHM0-50NN"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"usage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"usedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1410788324"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="s2">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
       </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
     </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">https://app.conversio.com/api/v1/coupons/{COUPON_ID}/use</code></p>
<h3 id='arguments'>Arguments</h3>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>String based <code class="prettyprint">id</code> of the coupon supplied in the response from the send of a receipt.</td>
</tr>
<tr>
<td style="text-align: right"><strong>reference:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>String based <code class="prettyprint">id</code> of the generated order by the coupon.</td>
</tr>
<tr>
<td style="text-align: right"><strong>amount:</strong></td>
<td><strong>float, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Amount of the generated order.</td>
</tr>
<tr>
<td style="text-align: right"><strong>currency:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Currency of the amount generated.</td>
</tr>
</tbody></table>

<p><aside class="success">
Response 200 (application/json)
</aside></p>

          <h1 id='products'>Products</h1>
<p>Services related to sending product updates using the <strong>Products API</strong>.
These endpoints must be used to send updates about products for our reccommendation engine.</p>
<h2 id='create-product'>Create product</h2><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST (SINGLE PRODUCT)</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/products"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s1">'{
    "product_id": "ipa_12345",
    "type": "beer",
    "brand": "StefanoS",
    "title": "Refreshing IPA by StefanoS",
    "description": "This IPA is awesome and brought to you by the legendary StefanoS",
    "hidden": false,
    "url": "https://stefanos.beer/products/ipa_12345",
    "tags": [ "ipa", "beer", "refreshing" ],
    "images": [
      { "position": 1, "url": "https://stefanos.beer/img/ipa_12345_1.jpg" },
      { "position": 2, "url": "https://stefanos.beer/img/ipa_hej.jpg" }
    ],
    "variants": [
      { "price": 10.0 },
      { "price": 15.0 }
    ],
    "categories": [
      {
        "category_id": "category_1234",
        "title": "IPA category",
        "description": "A category of good IPAs",
        "url": "https://stefanos.beer/categories/category_1234"
      }
    ]
  }'</span>
</code></pre>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST (MULTIPLE PRODUCTS)</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/products"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s1">'[{
    "product_id": "ipa_12345",
    "type": "beer",
    "brand": "StefanoS",
    "title": "Refreshing IPA by StefanoS",
    "description": "This IPA is awesome and brought to you by the legendary StefanoS",
    "hidden": false,
    "url": "https://stefanos.beer/products/ipa_12345",
    "tags": [ "ipa", "beer", "refreshing" ],
    "images": [
      { "position": 1, "url": "https://stefanos.beer/img/ipa_12345_1.jpg" },
      { "position": 2, "url": "https://stefanos.beer/img/ipa_hej.jpg" }
    ],
    "variants": [
      { "price": 10.0 },
      { "price": 15.0 }
    ],
    "categories": [
      {
        "category_id": "category_1234",
        "title": "IPA category",
        "description": "A category of good IPAs",
        "url": "https://stefanos.beer/categories/category_1234"
      }
    ]
  },
  {
    "product_id": "wheat_54321",
    "type": "beer",
    "brand": "StefanoS",
    "title": "Refreshing wheat beer by StefanoS",
    "description": "This lovely golden wheat is perfect on a hot Summer day.",
    "hidden": false,
    "url": "https://stefanos.beer/products/wheat_54321",
    "tags": [ "ipa", "beer", "refreshing" ],
    "images": [
      { "position": 1, "url": "https://stefanos.beer/img/wheat_54321.jpg" }
    ],
    "variants": [
      { "price": 5.0 }
    ],
    "categories": [
      {
        "category_id": "category_4321",
        "title": "Wheat category",
        "description": "A category of good wheat beers",
        "url": "https://stefanos.beer/categories/category_4321"
      }
    ]
  }]'</span>
</code></pre>
<h3 id='create-one-or-more-new-products-post'>Create one or more new products [POST]</h3>
<p><code class="prettyprint">POST https://app.conversio.com/api/v1/products</code></p>
<h3 id='arguments'>Arguments</h3>
<p><aside class="notice">
The endpoint accepts a <em>single</em> product object or <em>multiple</em> products in an
array. See examples on the right.
</aside></p>

<p><aside class="notice">
You can upload 250 products per request.
</aside></p>
<h4 id='main-object-product'>Main object (product)</h4>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>brand:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The brand or vendor for the product, e.g.  &lsquo;Apple&rsquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>categories:</strong></td>
<td><strong>category array, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>A list of categories that the product belong to.</td>
</tr>
<tr>
<td style="text-align: right"><strong>description:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The description of the product, for example &lsquo;A very nice soccer ball, updated for the needs of 2014.&rsquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>hidden:</strong></td>
<td><strong>boolean, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Indicates whether the product is currently hidden.</td>
</tr>
<tr>
<td style="text-align: right"><strong>images:</strong></td>
<td><strong>image array, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>A list of images for the product.</td>
</tr>
<tr>
<td style="text-align: right"><strong>product_id:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The ID of the product.</td>
</tr>
<tr>
<td style="text-align: right"><strong>tags:</strong></td>
<td><strong>string array, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>A list of tags for the product.</td>
</tr>
<tr>
<td style="text-align: right"><strong>title:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The title of the product, for example &lsquo;Soccer Ball 2014&rsquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>type:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The type of the product, e.g. &lsquo;ball&rsquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>url:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The full or relative url for the product, for example &lsquo;http://example.com/products/soccer-ball-2014&rsquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>variants:</strong></td>
<td><strong>variant array, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>A list of product variants. The price of a product is always stored in a variant.</td>
</tr>
</tbody></table>
<h4 id='category'>Category</h4>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>category_id:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The ID of the category.</td>
</tr>
<tr>
<td style="text-align: right"><strong>description:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The description of the category.</td>
</tr>
<tr>
<td style="text-align: right"><strong>title:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The title of the category, for example &lsquo;Soccer Balls&rsquo;</td>
</tr>
<tr>
<td style="text-align: right"><strong>url:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The full or relative url for the category, for example &lsquo;http://example.com/category/soccer-balls&rsquo;.</td>
</tr>
</tbody></table>
<h4 id='image'>Image</h4>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>position:</strong></td>
<td><strong>integer, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The position of the image compared to other images for the same product.</td>
</tr>
<tr>
<td style="text-align: right"><strong>url:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The url where the image is stored.</td>
</tr>
</tbody></table>
<h4 id='variant'>Variant</h4>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>price:</strong></td>
<td><strong>float, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The price of the variant.</td>
</tr>
</tbody></table>

<p><aside class="success">
Response 200 (success)</p>

<p>All products are valid.
</aside></p>

<p><aside class="success">
Response 202 (partial success)</p>

<p>Some products are valid and some are invalid. The response specifies which
products failed to validate.</p>

<p>Valid products are accepted and processed and should <em>not</em> be re-uploaded.
</aside></p>
<h2 id='update-product'>Update product</h2><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/products/{product_id}"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -d <span class="s1">'{
    "product_id": "ipa_12345",
    "type": "beer",
    "brand": "StefanoS",
    "title": "Refreshing IPA by StefanoS",
    "description": "This IPA is awesome and brought to you by the legendary StefanoS",
    "hidden": false,
    "url": "https://stefanos.beer/products/ipa_12345",
    "tags": [ "ipa", "beer", "refreshing" ],
    "images": [
      { "position": 1, "url": "https://stefanos.beer/img/ipa_12345_1.jpg" },
      { "position": 2, "url": "https://stefanos.beer/img/ipa_hej.jpg" }
    ],
    "variants": [
      { "price": 10.0 },
      { "price": 15.0 }
    ],
    "categories": [
      {
        "category_id": "category_1234",
        "title": "IPA category",
        "description": "A category of good IPAs",
        "url": "https://stefanos.beer/categories/category_1234"
      }
    ]
  }'</span>
</code></pre>
<h3 id='update-a-product-put'>Update a product [PUT]</h3>
<p><code class="prettyprint">PUT https://app.conversio.com/api/v1/products/{product_id}</code></p>
<h3 id='arguments'>Arguments</h3>
<p><aside class="notice">
The product structure is the same as for <a href="#create-product">Create a product</a>
except that you can only update a single product.
</aside>
<aside class="warning">
Notice that the product should always be a <em>full</em> representation, <strong>not</strong> a
partial. The API does not support partial updates.
</aside></p>

<p><aside class="success">
Response 200 (application/json)
</aside></p>
<h2 id='delete-product'>Delete product</h2><h3 id='delete-a-product-delete'>Delete a product [DELETE]</h3><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/products/{product_id}"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X DELETE<span class="s1">'
</span></code></pre>

<p><code class="prettyprint">DELETE https://app.conversio.com/api/v1/products/{product_id}</code></p>

<p><aside class="success">
Response 204 (application/json)
</aside></p>

          <h1 id='abandoned-carts'>Abandoned Carts</h1>
<p>Services related to managing <strong>Abandoned Carts</strong>.</p>
<h2 id='create'>Create</h2><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/abandoned-carts"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s1">'{
       "token":"sometoken",
       "customer":"some@customer.com",
       "currency":"USD",
       "items":[
          {
             "reference":"rct",
             "variant":"rct2",
             "description":"Conversio subscription",
             "quantity":1,
             "amount":"39.99",
             "attributes":[{ "key": "foo", "value": "bar" }]
          }
       ]
    }'</span>
</code></pre>

<blockquote>
<p>RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{}</span><span class="w">
</span></code></pre>
<h3 id='create-or-update-a-cart-post'>Create or Update a Cart [POST]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/abandoned-carts</code></p>
<h3 id='arguments'>Arguments</h3>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>token:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Cart token or unique identifier</td>
</tr>
<tr>
<td style="text-align: right"><strong>customer:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Email address of the customer to whom the cart belongs</td>
</tr>
<tr>
<td style="text-align: right"><strong>currency:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>ISO 4217 currency code</td>
</tr>
<tr>
<td style="text-align: right"><strong>items:</strong></td>
<td><strong>[object], required, <em>see below</em></strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The items inside the cart.</td>
</tr>
</tbody></table>
<h4 id='items'>Items</h4>
<p>The items inside the cart. Object contents:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>reference:</strong></td>
<td><strong>string, optional</strong></td>
<td><em>c_123</em></td>
</tr>
<tr>
<td style="text-align: right"><strong>variant:</strong></td>
<td><strong>string, optional</strong></td>
<td><em>c_123_2</em></td>
</tr>
<tr>
<td style="text-align: right"><strong>description:</strong></td>
<td><strong>string, required</strong></td>
<td><em>Conversio Hobby Plan</em></td>
</tr>
<tr>
<td style="text-align: right"><strong>quantity:</strong></td>
<td><strong>number, optional</strong></td>
<td><em>1</em></td>
</tr>
<tr>
<td style="text-align: right"><strong>amount:</strong></td>
<td><strong>number, optional</strong></td>
<td><em>29.00</em></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>A single item&rsquo;s price.</td>
<td></td>
</tr>
<tr>
<td style="text-align: right"><strong>attributes:</strong></td>
<td><strong>[object], optional</strong></td>
<td><em>[{ key: &ldquo;foo&rdquo;, value: &ldquo;bar&rdquo; }]</em></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Item attributes. See below.</td>
<td></td>
</tr>
</tbody></table>
<h5 id='attributes'>Attributes</h5>
<p>Item attributes:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>key:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"><strong>value:</strong></td>
<td><strong>string, required</strong></td>
</tr>
</tbody></table>

<p><aside class="success">
Response 200 (application/json)
</aside></p>
<h2 id='delete-an-abandoned-cart'>Delete an abandoned cart</h2><pre><code class="highlight shell"><span class="c"># DEFINITION</span>
DELETE https://app.conversio.com/api/v1/abandoned-carts/1a2b3c4d

<span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/abandoned-carts/1a2b3c4d"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -X DELETE
</code></pre>

<p><code class="prettyprint">https://app.conversio.com/api/v1/abandoned-carts/{TOKEN}</code></p>
<h3 id='arguments'>Arguments</h3>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>token:</strong></td>
<td><strong>string, required</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Cart token or unique identifier.</td>
</tr>
</tbody></table>

<p><aside class="success">
Response 204 (application/json)
</aside></p>

          <h1 id='users'>Users</h1>
<p>Services related to users using the <strong>Users API</strong>.</p>
<h2 id='current-user'>Current user</h2><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/users/current"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='retrieve-user-information-get'>Retrieve user information [GET]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/users/current</code></p>

<p>The current API user.</p>

<p><aside class="success">
Response 200 (application/json)
</aside></p>
<h2 id='uninstall'>Uninstall</h2><pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/users/uninstall"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>
<h3 id='uninstall-the-userapp-post'>Uninstall the user/app [POST]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/users/uninstall</code></p>

<p>Tells Conversio to uninstall the user associated with the given API key. Among
other things, this automatically unsubscribes the user from a premium plan.</p>

<p><aside class="success">
Response 204
</aside></p>

          <h1 id='newsletters'>Newsletters</h1>
<p>Endpoints for getting data on existing Newsletters for a shop, and their emails.</p>
<h2 id='list-newsletters'>List Newsletters</h2>
<p>Returns all the Newsletters created in a shop.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/newsletters"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b52"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Black Friday Announcement"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"liveAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"customerLists"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"57b5aa3b046abfb053d80b53"</span><span class="p">],</span><span class="w">
      </span><span class="s2">"customerSegments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sent"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sentAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T00:10:15.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b59"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4th of July Sales"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"liveAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-03:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"customerLists"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"customerSegments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"57b5aa3b046abfb053d80b57"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"57b5aa3b046abfb053d80b56"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scheduled"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='list-all-newsletters-get'>List all Newsletters [GET]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/newsletters</code></p>

<p><em>OAuth Scopes</em>: read_newsletter_template, write_newsletter_template</p>

<p><aside class="success">
  Response 200
</aside></p>
<h3 id='response-body'>Response Body</h3>
<p>Then endpoint returns an object with a <code class="prettyprint">data</code> key that is an Array with all the newsletters in the shop.</p>

<p>Each newsletter object includes the following info:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Newsletter&rsquo;s ID. Use it when calling single-newsletter endpoints.</td>
</tr>
<tr>
<td style="text-align: right"><strong>title:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Newsletter&rsquo;s title.</td>
</tr>
<tr>
<td style="text-align: right"><strong>liveAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When the Newsletter is set to go live, if scheduled, or when it was set live, if sent or live. Is an <strong>ISO 8601</strong> encoded date. Is omitted if the Newsletter is a draft.</td>
</tr>
<tr>
<td style="text-align: right"><strong>customerLists:</strong></td>
<td><strong>array[string]</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>An array of IDs of Customer Lists who will receive / have received this Newsletter. May be empty.</td>
</tr>
<tr>
<td style="text-align: right"><strong>customerSegments:</strong></td>
<td><strong>array[string]</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>An array of IDs of Customer Segments who will receive / have received this Newsletter. May be empty.</td>
</tr>
<tr>
<td style="text-align: right"><strong>status</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Newsletter&rsquo;s current status. Must be one of &ldquo;draft&rdquo;, &ldquo;scheduled&rdquo;, &ldquo;live&rdquo;, or &ldquo;sent&rdquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>sentAt</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When the Newsletter was fully sent, if such is the case. Is an <strong>ISO 8601</strong> encoded date.</td>
</tr>
</tbody></table>
<h2 id='newsletter-report'>Newsletter Report</h2>
<p>Returns the selected Newsletter and some stats regarding its sending status.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/newsletters/57b5aa3b046abfb053d80b52"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b52"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Black Friday Announcement"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"liveAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customerLists"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"57b5aa3b046abfb053d80b53"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"customerSegments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sent"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sentAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T00:10:15.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"sends"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="s2">"opens"</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uniqueOpens"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
      </span><span class="s2">"clicks"</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w">
      </span><span class="s2">"recipientCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">515</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='single-newsletter-report-get'>Single Newsletter Report [GET]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/newsletters/{NEWSLETTER_ID}</code></p>

<p><em>OAuth Scopes</em>: read_newsletter_template, write_newsletter_template</p>

<p><aside class="success">
  Response 200
</aside></p>

<p><aside class="warning">
  Response 404 - Newsletter not found. One of the following happened:
  <ul>
    <li>The given ID does not belong to an existing newsletter</li>
    <li>The ID belongs to another shop&rsquo;s newsletter</li>
    <li>The newsletter has been deleted</li>
  </ul>
</aside></p>
<h3 id='response-body'>Response Body</h3>
<p>Then endpoint returns an object with a <code class="prettyprint">data</code> key that the Newsletter object. The included info:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Newsletter&rsquo;s ID. Use it when calling single-newsletter endpoints.</td>
</tr>
<tr>
<td style="text-align: right"><strong>title:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Newsletter&rsquo;s title.</td>
</tr>
<tr>
<td style="text-align: right"><strong>liveAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When the Newsletter is set to go live, if scheduled, or when it was set live, if sent or live. Is an <strong>ISO 8601</strong> encoded date. Is omitted if the Newsletter is a draft.</td>
</tr>
<tr>
<td style="text-align: right"><strong>customerLists:</strong></td>
<td><strong>array[string]</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>An array of IDs of Customer Lists who will receive / have received this Newsletter. May be empty.</td>
</tr>
<tr>
<td style="text-align: right"><strong>customerSegments:</strong></td>
<td><strong>array[string]</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>An array of IDs of Customer Segments who will receive / have received this Newsletter. May be empty.</td>
</tr>
<tr>
<td style="text-align: right"><strong>status</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Newsletter&rsquo;s current status. Must be one of &ldquo;draft&rdquo;, &ldquo;scheduled&rdquo;, &ldquo;live&rdquo;, or &ldquo;sent&rdquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>sentAt</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When the Newsletter was fully sent, if such is the case. Is an <strong>ISO 8601</strong> encoded date.</td>
</tr>
<tr>
<td style="text-align: right"><strong>stats</strong></td>
<td><strong>object</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>An object with this Newsletter&rsquo;s stats. Included keys are described below.</td>
</tr>
</tbody></table>
<h4 id='stats'>Stats</h4>
<p>The <code class="prettyprint">stats</code> key has the following format:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>sends:</strong></td>
<td><strong>number</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The total number of emails that were sent for this Newsletter.</td>
</tr>
<tr>
<td style="text-align: right"><strong>opens:</strong></td>
<td><strong>number</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The total number of times this Newsletter&rsquo;s emails have been opened.</td>
</tr>
<tr>
<td style="text-align: right"><strong>uniqueOpens:</strong></td>
<td><strong>number</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The number of unique users that have opened this Newsletter&rsquo;s emails.</td>
</tr>
<tr>
<td style="text-align: right"><strong>clicks:</strong></td>
<td><strong>number</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The total number of clicks on this Newsletter&rsquo;s links.</td>
</tr>
<tr>
<td style="text-align: right"><strong>recipientCount:</strong></td>
<td><strong>number</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>How many recipients was this Newsletter sent to. May differ from <code class="prettyprint">sends</code> if there are sending errors.</td>
</tr>
</tbody></table>
<h2 id='list-newsletter-emails'>List Newsletter Emails</h2>
<p>A paginated list of all the emails sent for a Newsletter. Will be empty if Newsletter has not been sent yet. Emails are returned sorted by email address, and pagination is done by providing the email address from which to return results.</p>

<p>Note that if the Newsletter is currently live and sending, paginating results will not guarantee that all emails are returned. Wait for the &ldquo;sent&rdquo; status if an exhaustive list is required.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/newsletters/57b5aa3b046abfb053d80b52/emails?limit=2"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b60"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a@customer.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sentAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"deliveredAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T00:00:15.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"openedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T01:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"clickedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T01:01:10.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b60"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"another@customer.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sentAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T00:00:01.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"deliveredAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T00:00:17.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"openedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-21T10:02:00.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"nextPage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.conversio.com/api/v1/newsletters/57b5aa3b046abfb053d80b52/emails/?from=another%40email.com&amp;limit=2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='newsletter-email-list-get'>Newsletter Email List [GET]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/newsletters/{NEWSLETTER_ID}/emails</code></p>

<p><em>OAuth Scopes</em>: read_newsletter_email, write_newsletter_email</p>
<h3 id='request-query-params'>Request Query Params</h3>
<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>from:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The email address from which to start paginating records. Must be URI encoded if present.</td>
</tr>
<tr>
<td style="text-align: right"><strong>limit:</strong></td>
<td><strong>number, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The maximum number of records to return at once. Very high numbers are discouraged and might result in connection timeouts.</td>
</tr>
</tbody></table>

<p><aside class="success">
  Response 200
</aside></p>

<p><aside class="warning">
  Response 404 - Newsletter not found. One of the following happened:
  <ul>
    <li>The given ID does not belong to an existing newsletter</li>
    <li>The ID belongs to another shop&rsquo;s newsletter</li>
    <li>The newsletter has been deleted</li>
  </ul>
</aside></p>
<h3 id='response-body'>Response Body</h3>
<p>The response body includes a <code class="prettyprint">data</code> key which contains an array of newsletter emails. The emails&#39; format:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The ID for this email.</td>
</tr>
<tr>
<td style="text-align: right"><strong>to:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The email address to which this email was sent.</td>
</tr>
<tr>
<td style="text-align: right"><strong>sentAt:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this email was sent. <strong>ISO 8601</strong> encoded date.</td>
</tr>
<tr>
<td style="text-align: right"><strong>deliveredAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this email was delivered. <strong>ISO 8601</strong> encoded date. Can be missing if not delivered.</td>
</tr>
<tr>
<td style="text-align: right"><strong>openedAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this email was last opened. <strong>ISO 8601</strong> encoded date. Can be missing if never delivered.</td>
</tr>
<tr>
<td style="text-align: right"><strong>clickedAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this email was last clicked. <strong>ISO 8601</strong> encoded date. Can be missing if no link was ever clicked.</td>
</tr>
</tbody></table>

<p>The response body also includes a <code class="prettyprint">meta</code> key with further pagination information. The keys included are:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>total:</strong></td>
<td><strong>number</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The total number of emails for this Newsletter.</td>
</tr>
<tr>
<td style="text-align: right"><strong>limit:</strong></td>
<td><strong>number</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The maximum number of records returned in this request.</td>
</tr>
<tr>
<td style="text-align: right"><strong>pages:</strong></td>
<td><strong>number</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>How many pages need to be requested to go through all emails. Varies with <code class="prettyprint">total</code> and <code class="prettyprint">limit</code>.</td>
</tr>
<tr>
<td style="text-align: right"><strong>nextPage:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The URL form where the next page of emails can be fetched. Use it to cycle pages. May be omitted if there are no more emails to fetch.</td>
</tr>
</tbody></table>
<h2 id='view-newsletter-email'>View Newsletter Email</h2>
<p>Returns a Newsletter&rsquo;s email, along with its text &amp; HTML contents.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/newsletters/57b5aa3b046abfb053d80b52/emails/57b5aa3b046abfb053d80b68"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b68"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a@customer.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sentAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"deliveredAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T00:00:15.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"openedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T01:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"clickedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-11-20T01:01:10.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rendered"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is an email's text version..."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;html&gt;&lt;body&gt;This is an email's HTML content...&lt;/body&gt;&lt;/html&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subject:"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is the Newsletter's subject."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='show-newsletter-email-get'>Show Newsletter Email [GET]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/newsletters/{NEWSLETTER_ID}/emails/{EMAIL_ID}</code></p>

<p><em>OAuth Scopes</em>: read_newsletter_email, write_newsletter_email</p>

<p><aside class="success">
  Response 200
</aside></p>

<p><aside class="warning">
  Response 404 - Email not found. One of the following happened:
  <ul>
    <li>The given NEWSLETTER_ID does not belong to an existing newsletter</li>
    <li>The given EMAIL_ID does not belong to an existing email</li>
    <li>The NEWSLETTER_ID belongs to another shop&rsquo;s newsletter</li>
    <li>The EMAIL_ID belongs to another newsletter than indicated</li>
  </ul>
</aside></p>
<h3 id='response-body'>Response Body</h3>
<p>The response body includes a <code class="prettyprint">data</code> key which contains an object representation of the requested newsletter emails. The <code class="prettyprint">rendered</code> key is included with the email&rsquo;s contents:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The ID for this email.</td>
</tr>
<tr>
<td style="text-align: right"><strong>to:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The email address to which this email was sent.</td>
</tr>
<tr>
<td style="text-align: right"><strong>sentAt:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this email was sent. <strong>ISO 8601</strong> encoded date.</td>
</tr>
<tr>
<td style="text-align: right"><strong>deliveredAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this email was delivered. <strong>ISO 8601</strong> encoded date. Can be missing if not delivered.</td>
</tr>
<tr>
<td style="text-align: right"><strong>openedAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this email was last opened. <strong>ISO 8601</strong> encoded date. Can be missing if never delivered.</td>
</tr>
<tr>
<td style="text-align: right"><strong>clickedAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this email was last clicked. <strong>ISO 8601</strong> encoded date. Can be missing if no link was ever clicked.</td>
</tr>
<tr>
<td style="text-align: right"><strong>rendered:</strong></td>
<td><strong>object</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The rendered content for this email. Contains keys: <code class="prettyprint">text</code>, <code class="prettyprint">html</code> and <code class="prettyprint">subject</code></td>
</tr>
</tbody></table>
<h2 id='export-newsletter-recipients'>Export Newsletter Recipients</h2>
<p>Starts an Async Job to export a Newsletter&rsquo;s recipients. Once completed, the job&rsquo;s result will point to a CSV file with email addresses.</p>

<p>Refer to the <a href="#async-jobs">Async Jobs</a> documentation on how to access the job&rsquo;s result.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/newsletters/57b5aa3b046abfb053d80b52/recipients/async-export"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X POST
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b68"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"newsletter-recipients"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='create-export-job-post'>Create Export Job [POST]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/newsletters/{NEWSLETTER_ID}/recipients/async-export</code></p>

<p><em>OAuth Scopes</em>: read_newsletter_email, write_newsletter_email</p>

<p><aside class="success">
  Response 201 - Job Created
</aside></p>

<p><aside class="warning">
  Response 404 - Newsletter not found. One of the following happened:
  <ul>
    <li>The given ID does not belong to an existing Newsletter</li>
    <li>The ID belongs to another shop&rsquo;s Newsletter</li>
    <li>The Newsletter has been deleted</li>
  </ul>
</aside></p>
<h3 id='response-body'>Response Body</h3>
<p>The response body includes a <code class="prettyprint">data</code> key which reflects the created Async Job&rsquo;s info:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The ID for the created AsyncJob. Use this to identify this export.</td>
</tr>
<tr>
<td style="text-align: right"><strong>kind:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The kind of job created. Is always <code class="prettyprint">newsletter-recipients</code> on this endpoint.</td>
</tr>
<tr>
<td style="text-align: right"><strong>status:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The job&rsquo;s status. Always <code class="prettyprint">pending</code>.</td>
</tr>
</tbody></table>
<h2 id='export-newsletter-emails'>Export Newsletter Emails</h2>
<p>Starts an Async Job to export a Newsletter&rsquo;s emails. Once completed, the job&rsquo;s result will point to a CSV file with email addresses and activity timestamps.</p>

<p>Refer to the <a href="#async-jobs">Async Jobs</a> documentation on how to access the job&rsquo;s result.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/newsletters/57b5aa3b046abfb053d80b52/emails/async-export"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X POST
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b68"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"newsletter-emails"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='create-export-job-post'>Create Export Job [POST]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/newsletters/{NEWSLETTER_ID}/emails/async-export</code></p>

<p><em>OAuth Scopes</em>: read_newsletter_email, write_newsletter_email</p>

<p><aside class="success">
  Response 201 - Job Created
</aside></p>

<p><aside class="warning">
  Response 404 - Newsletter not found. One of the following happened:
  <ul>
    <li>The given ID does not belong to an existing Newsletter</li>
    <li>The ID belongs to another shop&rsquo;s newsletter</li>
    <li>The Newsletter has been deleted</li>
  </ul>
</aside></p>
<h3 id='response-body'>Response Body</h3>
<p>The response body includes a <code class="prettyprint">data</code> key which reflects the created Async Job&rsquo;s info:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The ID for the created AsyncJob. Use this to identify this export.</td>
</tr>
<tr>
<td style="text-align: right"><strong>kind:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The kind of job created. Is always <code class="prettyprint">newsletter-emails</code> on this endpoint.</td>
</tr>
<tr>
<td style="text-align: right"><strong>status:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The job&rsquo;s status. Always <code class="prettyprint">pending</code>.</td>
</tr>
</tbody></table>

          <h1 id='customer-lists'>Customer Lists</h1>
<p>Services related to managing <strong>Customer Lists</strong> (for newsletters) and subscriptions.</p>
<h2 id='get-customer-lists'>Get Customer Lists</h2>
<p>Get all available customer lists.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/customer-lists"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b52"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly Newsletter Subscribers"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b53"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Products Announcements"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<h3 id='list-all-customer-lists-get'>List all Customer Lists [GET]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/customer-lists</code></p>

<p><aside class="success">
  Response 200 (application/json)
</aside></p>
<h3 id='return'>Return</h3>
<p>The endpoint returns an array with all the Customer Lists in the account. Object keys are:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Customer List ID. This is used whenever referencing this Customer List in other endpoints.</td>
</tr>
<tr>
<td style="text-align: right"><strong>title:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The title picked by the user for this List. Used in user-facing interfaces.</td>
</tr>
</tbody></table>
<h2 id='subscribe-to-list'>Subscribe to List</h2>
<p>Subscribe an email address and optional user details to a specific customer list.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/customer-lists/LIST_ID/subscriptions"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -d <span class="s1">'{
    "email": "an@email.com",
    "name": "John Snow",
    "source": "Conversio",
    "sourceType": "SubscriptionForm",
    "sourceId": "some-form-slug"
  }'</span>
</code></pre>
<h3 id='subscribe-an-email-to-a-customer-list-put'>Subscribe an Email to a Customer List [PUT]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/customer-lists/LIST_ID/subscriptions</code></p>

<p><code class="prettyprint">LIST_ID</code> should be the <code class="prettyprint">id</code> returned in the <a href="#get-customer-lists">list</a> response.</p>
<h3 id='arguments'>Arguments</h3>
<table><thead>
<tr>
<th style="text-align: right">Argument</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>email:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The email address to subscribe to this Customer List. Must be a valid email address.</td>
</tr>
<tr>
<td style="text-align: right"><strong>name:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The email address owner&rsquo;s name. Expects first or first and last name.</td>
</tr>
<tr>
<td style="text-align: right"><strong>source:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Where this subscription came from. Should be an App or company name.</td>
</tr>
<tr>
<td style="text-align: right"><strong>sourceType:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>What type of control did the user interact for subscribing. Could be a form type, page, etc.</td>
</tr>
<tr>
<td style="text-align: right"><strong>sourceId:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>A more granular ID of where the user subscribed. Could be the ID/slug of a form or subscription page.</td>
</tr>
</tbody></table>

<p><aside class="success">
  Response 204
</aside></p>

          <h1 id='webhooks'>Webhooks</h1>
<p>Endpoints for subscribing and configuring Webhooks triggered by events on your account.</p>

<p>You should use webhooks to get near real-time updates on events in a shop. When one of the supported events happens (eg: a newsletter email is sent), Conversio will <code class="prettyprint">POST</code> some data related to that event to the endpoints registered in webhooks that subscribed to that event&rsquo;s topic.</p>

<p>When Webhook delivery fails (your endpoint can&rsquo;t be reached or returns an error status code), we&rsquo;ll keep trying to re-send the failed Webhooks up to a limited number of tries, in an exponential back-off fashion. Details are described <a href="#retry-mechanism">below</a>.</p>

<p>For security purposes, all our webhooks use JSON Web Signatures (<a href="https://tools.ietf.org/html/rfc7515">JWS</a>). These allow recipients to validate that each webhook originates from Conversio. More details on the validation are <a href="#security-signature">below</a>.</p>
<h3 id='subscribable-topics'>Subscribable Topics</h3>
<ul>
<li><code class="prettyprint">newsletter-email/sent</code>: Triggered when a Newsletter is sent to a customer. These typically arrive in bursts as the Newsletter Template is sending;</li>
<li><code class="prettyprint">async-job/completed</code>: Triggered when an Async Job has been completed (failed or succeeded).</li>
</ul>
<h3 id='payload'>Payload</h3>
<p>All request bodies contain two keys, <code class="prettyprint">meta</code> and <code class="prettyprint">data</code>. The <code class="prettyprint">meta</code> key contains information about the webhook itself:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>topic:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Webhook&rsquo;s topic. Useful if you wish to direct all webhooks to the same endpoint.</td>
</tr>
<tr>
<td style="text-align: right"><strong>ts:</strong></td>
<td><strong>number</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The timestamp for when the webhook was <strong>first sent</strong>. This will stay equal for subsequent retries.</td>
</tr>
</tbody></table>

<p>The <code class="prettyprint">data</code> key&rsquo;s content depends on the Webhook&rsquo;s topic. The following apply:</p>
<h4 id='code-classprettyprintnewsletter-emailsentcode'><code class="prettyprint">newsletter-email/sent</code></h4><pre><code class="highlight shell"><span class="c"># EXAMPLE WEBHOOK</span>
<span class="gp">$ </span>curl <span class="s2">"https://partner-app.com/registered/endpoint"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 'eyJhbGciOiJIUzI1NiIsImtpZCI6IkNsaWVudCBTZWNyZXQiLCJ0eXAiOiJKV1QifQ.eyJqaXQiOiIzOTg1Y2JlMC1lM2JlLTExZTYtYThmMy04NTMzOTYyOGMzNGEiLCJpYXQiOjE0ODU0MzE2ODIsImlzcyI6IkNvbnZlcnNpbyJ9.WZYh7Wylj5vnGRWqrgeMXdeRjIqJc9V30nyEG7QHpvk'"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s1">'{
    "meta": {
      "topic": "newsletter-email/sent",
      "ts": 1485431966802
    },
    "data": {
      "emailId": "57b5aa3b046abfb053d80b52",
      "templateId": "57b5aa3b640abfb053d80a63",
      "userId": "67b5aa3c640abfb053d80a63",
      "recipient": "an@email.com",
      "subject": "Black Friday Sale",
      "title": "Black Friday opening announcement",
      "sentAt": "2017-01-26T11:57:26.675Z"
    }
  }'</span>
</code></pre>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>emailId:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Newsletter Email&rsquo;s ID. Can be used to reference the email using the API.</td>
</tr>
<tr>
<td style="text-align: right"><strong>templateId:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Newsletter Template&rsquo;s ID. The template that the email belongs to.</td>
</tr>
<tr>
<td style="text-align: right"><strong>userId:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The User / Store that this email belongs to.</td>
</tr>
<tr>
<td style="text-align: right"><strong>recipient:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The email address to whom this email was sent.</td>
</tr>
<tr>
<td style="text-align: right"><strong>subject:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The subject of the email</td>
</tr>
<tr>
<td style="text-align: right"><strong>title:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Newsletter&rsquo;s title (store-facing, not necessarily in email content).</td>
</tr>
<tr>
<td style="text-align: right"><strong>sentAt:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When the email was sent. This is an <strong>ISO 8601</strong> formatted date.</td>
</tr>
</tbody></table>
<h4 id='code-classprettyprintasync-jobcompletedcode'><code class="prettyprint">async-job/completed</code></h4><pre><code class="highlight shell"><span class="c"># EXAMPLE WEBHOOK</span>
<span class="gp">$ </span>curl <span class="s2">"https://partner-app.com/registered/endpoint"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 'eyJhbGciOiJIUzI1NiIsImtpZCI6IkNsaWVudCBTZWNyZXQiLCJ0eXAiOiJKV1QifQ.eyJqaXQiOiIzOTg1Y2JlMC1lM2JlLTExZTYtYThmMy04NTMzOTYyOGMzNGEiLCJpYXQiOjE0ODU0MzE2ODIsImlzcyI6IkNvbnZlcnNpbyJ9.WZYh7Wylj5vnGRWqrgeMXdeRjIqJc9V30nyEG7QHpvk'"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s1">'{
    "meta": {
      "topic": "async-job/completed",
      "ts": 1485431966803
    },
    "data": {
      "id": "57b5aa3b046abfb053d80b52",
      "kind": "newsletter-recipients",
      "status": "done",
      "startedAt": "2017-01-26T11:57:26.675Z",
      "completedAt": "2017-01-26T12:02:06.665Z",
      "result": "https://receiptful.s3.amazonaws.com/async-jobs/1234567890987654321.csv"
    }
  }'</span>
</code></pre>

<p>Data is the JSON representation of the completed Async Job:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Async Job&rsquo;s ID.</td>
</tr>
<tr>
<td style="text-align: right"><strong>kind:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>What kind of job it is.</td>
</tr>
<tr>
<td style="text-align: right"><strong>status:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The job&rsquo;s status. Is either &ldquo;done&rdquo; or &ldquo;failed&rdquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>startedAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this job started processing. Is an <strong>ISO 8601</strong> encoded date. Can be null if it hasn&rsquo;t started yet.</td>
</tr>
<tr>
<td style="text-align: right"><strong>completedAt:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this job completed. Is an <strong>ISO 8601</strong> encoded date.</td>
</tr>
<tr>
<td style="text-align: right"><strong>error:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>An error message that indicates a problem when processing the job. There is no <code class="prettyprint">result</code> if this is present.</td>
</tr>
<tr>
<td style="text-align: right"><strong>result:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The final result from processing this job. What it is depends on job <code class="prettyprint">kind</code>.</td>
</tr>
</tbody></table>
<h3 id='retry-mechanism'>Retry Mechanism</h3>
<p>Webhooks retry up to 6 times, for a total of 7 attempts. Multiple failures are grouped by endpoint and retried in batches. If 5% or more of a batch of retries fails consecutively, all webhooks in that batch are skipped and an attempt is counted for each.</p>

<p>The retry progression is (in time elapsed from first attempt):</p>

<ol>
<li>10min</li>
<li>35min</li>
<li>1h 30min</li>
<li>4h 20min</li>
<li>10h 30min</li>
<li>1d 3h</li>
<li>3d</li>
</ol>

<p>After all attempts are through, the webhooks are discarded.</p>
<h3 id='security-signature'>Security Signature</h3><pre><code class="highlight shell"><span class="c"># EXAMPLE WEBHOOK</span>
<span class="gp">$ </span>curl <span class="s2">"https://partner-app.com/registered/endpoint"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer 'eyJhbGciOiJIUzI1NiIsImtpZCI6IkNsaWVudCBTZWNyZXQiLCJ0eXAiOiJKV1QifQ.eyJqaXQiOiIzOTg1Y2JlMC1lM2JlLTExZTYtYThmMy04NTMzOTYyOGMzNGEiLCJpYXQiOjE0ODU0MzE2ODIsImlzcyI6IkNvbnZlcnNpbyJ9.WZYh7Wylj5vnGRWqrgeMXdeRjIqJc9V30nyEG7QHpvk'"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s1">'{ ... }'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="cm">/* JavaScript */</span>
<span class="kr">const</span> <span class="nx">jws</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'jws'</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">authorization</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">);</span>
<span class="c1">// &gt; 'Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6IkNsaWVudCBTZWNyZXQiLCJ0eXAiOiJKV1QifQ.eyJqaXQiOiIzOTg1Y2JlMC1lM2JlLTExZTYtYThmMy04NTMzOTYyOGMzNGEiLCJpYXQiOjE0ODU0MzE2ODIsImlzcyI6IkNvbnZlcnNpbyJ9.WZYh7Wylj5vnGRWqrgeMXdeRjIqJc9V30nyEG7QHpvk'</span>

<span class="kr">const</span> <span class="p">[,</span> <span class="nx">encodedToken</span><span class="p">]</span> <span class="o">=</span> <span class="nx">authorization</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">jws</span><span class="p">.</span><span class="nx">decode</span><span class="p">(</span><span class="nx">encodedToken</span><span class="p">);</span>
<span class="c1">// &gt; {</span>
<span class="c1">// &gt;   header: { alg: 'HS256', kid: 'Client Secret', typ: 'JWT' },</span>
<span class="c1">// &gt;   payload: {</span>
<span class="c1">// &gt;     jit: '3985cbe0-e3be-11e6-a8f3-85339628c34a',</span>
<span class="c1">// &gt;     iat: 1485431682,</span>
<span class="c1">// &gt;     iss: 'Conversio'</span>
<span class="c1">// &gt;   },</span>
<span class="c1">// &gt;   signature: 'WZYh7Wylj5vnGRWqrgeMXdeRjIqJc9V30nyEG7QHpvk'</span>
<span class="c1">// &gt; }</span>

<span class="nx">jws</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span><span class="nx">encodedToken</span><span class="p">,</span> <span class="nx">token</span><span class="p">.</span><span class="nx">header</span><span class="p">.</span><span class="nx">alg</span><span class="p">,</span> <span class="s1">'a-secret'</span><span class="p">);</span>
<span class="c1">// &gt; true</span>
</code></pre>
<pre><code class="highlight ruby"><span class="c1">## Ruby</span>
<span class="nb">require</span> <span class="s1">'JWT'</span>

<span class="n">_</span><span class="p">,</span> <span class="n">encoded_token</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">headers</span><span class="p">[</span><span class="s1">'Authorization'</span><span class="p">].</span><span class="nf">split</span>
<span class="n">payload</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="no">JWT</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="n">encoded_token</span><span class="p">,</span> <span class="kp">nil</span><span class="p">,</span> <span class="kp">false</span><span class="p">)</span>
<span class="c1"># &gt; payload = {"jit"=&gt;"3985cbe0-e3be-11e6-a8f3-85339628c34a", "iat"=&gt;1485431682, "iss"=&gt;"Conversio"}</span>
<span class="c1"># &gt; header = {"alg"=&gt;"HS256", "kid"=&gt;"Client Secret", "typ"=&gt;"JWT"}</span>

<span class="no">JWT</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="n">encoded_token</span><span class="p">,</span> <span class="s1">'a-secret'</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="ss">algorithm: </span><span class="n">header</span><span class="p">[</span><span class="s1">'alg'</span><span class="p">],</span> <span class="ss">iss: </span><span class="s1">'Conversio'</span><span class="p">,</span> <span class="ss">verify_iss: </span><span class="kp">true</span><span class="p">,</span> <span class="ss">verify_iat: </span><span class="kp">true</span><span class="p">)</span>
<span class="c1"># &gt; [{"jit"=&gt;"3985cbe0-e3be-11e6-a8f3-85339628c34a", "iat"=&gt;1485431682, "iss"=&gt;"Conversio"}, {"alg"=&gt;"HS256", "kid"=&gt;"Client Secret", "typ"=&gt;"JWT"}]</span>
</code></pre>

<p>A JSON Web Token (<a href="https://tools.ietf.org/html/rfc7519">JWT</a>) is signed and encoded into the Authorization header of the Webhook&rsquo;s request using the Bearer schema. The token&rsquo;s header includes the following keys:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>alg:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Has the value &ldquo;HS256&rdquo;. It&rsquo;s the algorightm used for the HMAC signature.</td>
</tr>
<tr>
<td style="text-align: right"><strong>typ:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Has the value &ldquo;JWT&rdquo;. Indicates this is a JSON Web Token.</td>
</tr>
<tr>
<td style="text-align: right"><strong>kid:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Hints at what secret was used for signing the Token. Is &ldquo;Client Secret&rdquo; when the webhook is registered for a Partner App, or &ldquo;API Key&rdquo; when the webhook was registered through an API.</td>
</tr>
</tbody></table>

<p>The token&rsquo;s body itself includes the following keys:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>jti:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Has a random, unique value. Two tokens with the same <code class="prettyprint">jti</code> could mean an attacker is re-using tokens to fabricate authorized webhooks.</td>
</tr>
<tr>
<td style="text-align: right"><strong>iss:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Has the value &ldquo;Conversio&rdquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>iat:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>UNIX time of when the token was generated (when webhook request is sent).</td>
</tr>
</tbody></table>

<p>This token is then serialized using <a href="https://tools.ietf.org/html/rfc7515#page-19">JWS Compact Serialization</a> and included in the Authorization header using the Bearer schema.</p>

<p>Webhooks recipients should validate that every request is properly signed. This acts as guarantee that the webhook is valid and was sent by Conversio.</p>

<p>Validating the signatures is a process made simple by programming libraries. The same library used during <a href="#authorizing-requests">OAuth</a> can be used here, just follow the examples on the right.</p>
<h2 id='view-webhooks'>View Webhooks</h2>
<p>Returns all Webhooks registered for the current shop. If authorized through OAuth, only those webhooks created by the authorized PartnerApp will be listed.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/webhooks"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b52"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"newsletter-email/sent"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.endpoint.com/conversio-webhook"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='list-all-webhooks-get'>List all Webhooks [GET]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/webhooks</code></p>

<p><em>OAuth Scopes</em>: read_webhook, write_webhook</p>

<p><aside class="success">
  Response 200 (application/json)
</aside></p>
<h3 id='response-body'>Response Body</h3>
<p>Then endpoint returns an object with a <code class="prettyprint">data</code> key that is an Array with all the webhooks in the shop. It will limit output to the currently authenticated Partner App webhooks if authorized through OAuth.</p>

<p>Each webhook includes the following info:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Webhook ID. Use it when calling single-webhook endpoints.</td>
</tr>
<tr>
<td style="text-align: right"><strong>topic:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The event that triggers this webhook.</td>
</tr>
<tr>
<td style="text-align: right"><strong>endpoint:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Where the webhook&rsquo;s payload is sent, when triggered. Must be a URI.</td>
</tr>
<tr>
<td style="text-align: right"><strong>partnerApp:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The ID of the Partner App that created this webhook. Included only when authorization is made with the API key.</td>
</tr>
</tbody></table>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/webhooks/57b5aa3b046abfb053d80b52"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b52"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"newsletter-email/sent"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.endpoint.com/conversio-webhook"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='show-single-webhook-get'>Show Single Webhook [GET]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/webhooks/{WEBHOOK_ID}</code></p>

<p><em>OAuth Scopes</em>: read_webhook, write_webhook</p>

<p><aside class="success">
  Response 200 - All good
</aside></p>

<p><aside class="warning">
  Response 404 - Webhook not found. One of the following happened:
  <ul>
    <li>The given ID does not belong to an existing webhook</li>
    <li>The ID belongs to another shop&rsquo;s webhook</li>
    <li>The ID belongs to another Partner App&rsquo;s webhook</li>
    <li>The webhook has been deleted</li>
  </ul>
</aside></p>
<h3 id='response-body'>Response Body</h3>
<p>Then endpoint returns an object with a <code class="prettyprint">data</code> key that is itself an object with the Webhook&rsquo;s properties. It will include the Partner App if authorized with an API key. The following keys are returned:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Webhook ID. You used it to call this endpoint.</td>
</tr>
<tr>
<td style="text-align: right"><strong>topic:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The event that triggers this webhook.</td>
</tr>
<tr>
<td style="text-align: right"><strong>endpoint:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Where the webhook&rsquo;s payload is sent, when triggered. Must be a URI.</td>
</tr>
<tr>
<td style="text-align: right"><strong>partnerApp:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The ID of the Partner App that created this webhook. Included only when authorization is made with the API key.</td>
</tr>
</tbody></table>
<h2 id='create-webhooks'>Create Webhooks</h2>
<p>Create a new Webhook for the currently authenticated shop. If authorized through OAuth, the Webhook will be assigned to the authorized Partner App.</p>

<p>Only one Webhook for a unique topic &amp; endpoint combination can exist for each Shop. Thus, trying to create multiple webhooks for the same topic and endpoint will result in errors.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/webhooks"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s1">'{
        "endpoint": "https://www.your-endpoint.com/webhooks",
        "topic": "newsletter-email/sent",
      }'</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b52"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"newsletter-email/sent"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.your-endpoint.com/webhooks"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>EXAMPLE ERROR RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"The chosen topic is invalid"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='create-webhook-post'>Create Webhook [POST]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/webhooks</code></p>

<p><em>OAuth Scopes</em>: write_webhook</p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>topic:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The topic to subscribe with this Webhook.</td>
</tr>
<tr>
<td style="text-align: right"><strong>endpoint:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>URL where to publish this Webhook&rsquo;s payload, when triggered.</td>
</tr>
</tbody></table>

<p><aside class="success">
  Response 201 - Webhook Created
</aside></p>

<p><aside class="warning">
  Response 400 - The Webhook data provided is invalid. The particular error will be returned in the response body, but these could be the most common:
  <ul>
    <li>A Webhook for that particular endpoint and topic combination already exists.</li>
    <li>The selected topic isn&rsquo;t supported.</li>
  </ul>
</aside></p>
<h3 id='response-body'>Response Body</h3>
<p>When successful, the endpoint returns the newly created webhook. The returned data mimics that of the <code class="prettyprint">show</code> endpoint:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The new Webhook&rsquo;s ID.</td>
</tr>
<tr>
<td style="text-align: right"><strong>topic:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The event that triggers this webhook.</td>
</tr>
<tr>
<td style="text-align: right"><strong>endpoint:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Where the webhook&rsquo;s payload is sent, when triggered. Must be a URI.</td>
</tr>
<tr>
<td style="text-align: right"><strong>partnerApp:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The ID of the Partner App that created this webhook. Included only when authorization is made with the API key.</td>
</tr>
</tbody></table>

<p>Any errors during creation will be identified by a 400 status code and a JSON object with an <code class="prettyprint">errors</code> Array with string explanations of what went wrong.</p>
<h2 id='update-webhooks'>Update Webhooks</h2>
<p>Update an existing webhook with new data. Can change either the topic or endpoint of an existing webhook.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/webhooks/57b5aa3b046abfb053d80b52"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X PATCH <span class="se">\</span>
  -d <span class="s1">'{
        "endpoint": "https://www.your-other-endpoint.com/webhooks"
      }'</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b52"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"newsletter-email/sent"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.your-endpoint.com/webhooks"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>EXAMPLE ERROR RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"The chosen topic is invalid"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='update-webhook-patchput'>Update Webhook [PATCH/PUT]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/webhooks/{WEBHOOK_ID}</code></p>

<p><em>OAuth Scopes</em>: write_webhook</p>

<p>If your client doesn&rsquo;t support the <code class="prettyprint">PATCH</code> method, <code class="prettyprint">PUT</code> can be used to the same effect.</p>

<p><aside class="notice">
  This endpoint performs a partial update. This means omitting a key from the request body will rresult in that value not being changed. Values can be unset with <code class="prettyprint">null</code>.
</aside></p>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>topic:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The topic to subscribe with this Webhook. Can&rsquo;t be <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td style="text-align: right"><strong>endpoint:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>URL where to publish this Webhook&rsquo;s payload, when triggered. Can&rsquo;t be <code class="prettyprint">null</code>.</td>
</tr>
</tbody></table>

<p><aside class="success">
  Response 200 - Webhook Updated
</aside></p>

<p><aside class="warning">
  Response 400 - The Webhook data provided is invalid. The particular error will be returned in the response body, but these could be the most common:
  <ul>
    <li>A Webhook (other than this one) for that particular endpoint and topic combination already exists.</li>
    <li>The selected topic isn&rsquo;t supported.</li>
  </ul>
</aside></p>

<p><aside class="warning">
  Response 404 - Webhook not found. One of the following happened:
  <ul>
    <li>The given ID does not belong to an existing webhook</li>
    <li>The ID belongs to another shop&rsquo;s webhook</li>
    <li>The ID belongs to another Partner App&rsquo;s webhook</li>
    <li>The webhook has been deleted</li>
  </ul>
</aside></p>
<h3 id='response-body'>Response Body</h3>
<p>When successful, the endpoint returns the newly created webhook. The returned data mimics that of the <code class="prettyprint">show</code> endpoint:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The updated Webhook&rsquo;s ID.</td>
</tr>
<tr>
<td style="text-align: right"><strong>topic:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The event that triggers this webhook.</td>
</tr>
<tr>
<td style="text-align: right"><strong>endpoint:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>Where the webhook&rsquo;s payload is sent, when triggered. Must be a URI.</td>
</tr>
<tr>
<td style="text-align: right"><strong>partnerApp:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The ID of the Partner App that created this webhook. Included only when authorization is made with the API key.</td>
</tr>
</tbody></table>

<p>Any errors during creation will be identified by a 400 status code and a JSON object with an <code class="prettyprint">errors</code> Array with string explanations of what went wrong.</p>
<h2 id='delete-webhook'>Delete Webhook</h2>
<p>Delete an existing Webhook to stop receiving data at the endpoint.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/webhooks/57b5aa3b046abfb053d80b52"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X DELETE
</code></pre>
<h3 id='delete-webhook-delete'>Delete Webhook [DELETE]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/webhooks/{WEBHOOK_ID}</code></p>

<p><em>OAuth Scopes</em>: write_webhook</p>

<p><aside class="success">
  Response 204 - Webhook destroyed
</aside></p>

<p><aside class="warning">
  Response 404 - Webhook not found. One of the following happened:
  <ul>
    <li>The given ID does not belong to an existing webhook</li>
    <li>The ID belongs to another shop&rsquo;s webhook</li>
    <li>The ID belongs to another Partner App&rsquo;s webhook</li>
    <li>The webhook has been deleted</li>
  </ul>
</aside></p>

<p>Successful requests return nothing.</p>

          <h1 id='async-jobs'>Async Jobs</h1>
<p>An Async Job is created on certain API endpoints and user actions that we expect will take a long time to complete. Generally, when a job is created, you&rsquo;ll receive a Job ID that you can poll using this API to:</p>

<ol>
<li>Check if the job&rsquo;s completed;</li>
<li>Get the job&rsquo;s result; and</li>
<li>Check the job for errors.</li>
</ol>

<p>Due to the presumably large size of an Async Job&rsquo;s results and how they&rsquo;ll be less relevant as time advances, Async jobs expire 1 week after they&rsquo;ve finished processing, being automatically removed.</p>
<h2 id='list-async-jobs'>List Async Jobs</h2>
<p>Returns all the Async Jobs created for the authenticated shop. When using OAuth, only jobs started by the authenticated app are returned.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/async-jobs"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b52"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"newsletter-recipients"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"done"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-03T16:32:27.741Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"completedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-03T16:37:20.417Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.conversio.com/async-jobs/57b5aa3b046abfb053d80b52.csv"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b54"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"newsletter-recipients"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b57"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"newsletter-recipients"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-02T05:33:22.123Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"completedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-02T05:33:45.412Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Something terrible has happened. Get in touch with support tout de suite!"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='list-all-jobs-get'>List all Jobs [GET]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/async-jobs</code></p>

<p><em>OAuth Scopes</em>: read_async_job</p>

<p><aside class="success">
  Response 200 (application/json)
</aside></p>
<h3 id='response-body'>Response Body</h3>
<p>The endpoint returns an object with a <code class="prettyprint">data</code> key that is an Array with all the Async Jobs in the shop. It will limit output to the currently authenticated Partner App webhooks if authorized through OAuth.</p>

<p>Each Async Job includes the following info:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Async Job ID. Use it when calling single-job endpoints.</td>
</tr>
<tr>
<td style="text-align: right"><strong>kind:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>What kind of job this is. Currently only supports &ldquo;newsletters-recipients&rdquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>status:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The job&rsquo;s status. One of &ldquo;pending&rdquo;, &ldquo;done&rdquo; or &ldquo;failed&rdquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>startedAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this job started processing. Is an <strong>ISO 8601</strong> encoded date. Is <code class="prettyprint">null</code> if it hasn&rsquo;t started yet.</td>
</tr>
<tr>
<td style="text-align: right"><strong>completedAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this job completed. Is <code class="prettyprint">null</code> if it hasn&rsquo;t finished yet. There&rsquo;s a <code class="prettyprint">result</code> or <code class="prettyprint">error</code> if set. Is an <strong>ISO 8601</strong> encoded date.</td>
</tr>
<tr>
<td style="text-align: right"><strong>error:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>An error message that indicates a problem when processing the job. There is no <code class="prettyprint">result</code> if this is present.</td>
</tr>
<tr>
<td style="text-align: right"><strong>result:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The final result from processing this job. Contents depend on job <code class="prettyprint">kind</code>.</td>
</tr>
<tr>
<td style="text-align: right"><strong>partnerApp:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The ID of the Partner App that created this Async Job. Included only when authorization is made with the API key.</td>
</tr>
</tbody></table>
<h2 id='get-async-job'>Get Async Job</h2>
<p>Returns the requested Async Job. When using OAuth, only jobs started by the authenticated app can be accessed.</p>
<pre><code class="highlight shell"><span class="c"># EXAMPLE REQUEST</span>
<span class="gp">$ </span>curl <span class="s2">"https://app.conversio.com/api/v1/async-jobs/57b5aa3b046abfb053d80b52"</span> <span class="se">\</span>
  -H <span class="s2">"X-ApiKey: YOUR_API_KEY"</span>
</code></pre>

<blockquote>
<p>EXAMPLE RESPONSE</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57b5aa3b046abfb053d80b52"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"newsletter-recipients"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"done"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-03T16:32:27.741Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"completedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-03T16:37:20.417Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.conversio.com/async-jobs/57b5aa3b046abfb053d80b52.csv"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='get-an-async-job-get'>Get an Async Job [GET]</h3>
<p><code class="prettyprint">https://app.conversio.com/api/v1/async-jobs/{ASYNC_JOB_ID}</code></p>

<p><em>OAuth Scopes</em>: read_async_job</p>

<p><aside class="success">
  Response 200
</aside></p>

<p><aside class="warning">
  Response 404 - Async Job not found. One of the following happened:
  <ul>
    <li>The given ID does not belong to an existing job</li>
    <li>The ID belongs to another shop&rsquo;s job</li>
    <li>The ID belongs to another Partner App&rsquo;s job</li>
    <li>The job has expired</li>
  </ul>
</aside></p>
<h3 id='response-body'>Response Body</h3>
<p>The endpoint returns an object with a <code class="prettyprint">data</code> key. The <code class="prettyprint">data</code> key is an object with the Async Job&rsquo;s properties. It will include the Partner App if authorized with an API key. The following keys are returned:</p>

<table><thead>
<tr>
<th style="text-align: right">Key</th>
<th>Details</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>id:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The Async Job&rsquo;s ID. The ID used to call this endpoint.</td>
</tr>
<tr>
<td style="text-align: right"><strong>kind:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>What kind of job this is. Currently only supports &ldquo;newsletters-recipients&rdquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>status:</strong></td>
<td><strong>string</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The job&rsquo;s status. One of &ldquo;pending&rdquo;, &ldquo;done&rdquo; or &ldquo;failed&rdquo;.</td>
</tr>
<tr>
<td style="text-align: right"><strong>startedAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this job started processing. Is an <strong>ISO 8601</strong> encoded date. Is <code class="prettyprint">null</code> if it hasn&rsquo;t started yet.</td>
</tr>
<tr>
<td style="text-align: right"><strong>completedAt:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>When this job completed. Is <code class="prettyprint">null</code> if it hasn&rsquo;t finished yet. There&rsquo;s a <code class="prettyprint">result</code> or <code class="prettyprint">error</code> if set. Is an <strong>ISO 8601</strong> encoded date.</td>
</tr>
<tr>
<td style="text-align: right"><strong>error:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>An error message that indicates a problem when processing the job. There is no <code class="prettyprint">result</code> if this is present.</td>
</tr>
<tr>
<td style="text-align: right"><strong>result:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The final result from processing this job. Contents depend on job <code class="prettyprint">kind</code>.</td>
</tr>
<tr>
<td style="text-align: right"><strong>partnerApp:</strong></td>
<td><strong>string, optional</strong></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td>The ID of the Partner App that created this Async Job. Included only when authorization is made with the API key.</td>
</tr>
</tbody></table>

          <h1 id='errors'>Errors</h1>
<p>The Conversio API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Something required is missing of the request is malformed</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The requested resource is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified endpoint, receipt or coupon could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a resource with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>413</td>
<td>Request Entity Too Large &ndash; You sent too much data to us</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re exceeding the API rate limit</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
